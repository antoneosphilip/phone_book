<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Contact</title>
    
  <link rel="stylesheet"
            href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
                 <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
        <script
            src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    
    <style>
   *{
    margin: 10px;
   }
   .ui-controlgroup-horizontal {
       display: inline-block !important;
   }
   .error {
       color: red;
       font-size: 12px;
       margin-top: 5px;
   }
    </style>
</head>
<body>
    <div class="contact-card">
        <div class="header">
            <a href="#" data-role="button" data-inline="true" id="backBtn">
                <span class="back-icon">◀</span>
                Back
            </a>
            <span class="title">New Contact</span>
        </div>

        <div class="form-container">
            <form id="contactForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" class="input-field" required>
                    <span class="error" id="nameError"></span>
                </div>

                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="tel" id="phone" class="input-field" placeholder="(202) 555-5555" required>
                    <span class="error" id="phoneError"></span>
                </div>

                <div class="form-group">
                    <label for="email">email</label>
                    <input type="email" id="email" class="input-field" required>
                    <span class="error" id="emailError"></span>
                </div>

                <label style="display: inline-block;">Gender:</label>
                <div data-role="controlgroup" data-type="horizontal" data-mini="true" style="display: inline-block;">
                    <button type="button" class="gender-btn" data-gender="female">female</button>
                    <button type="button" class="gender-btn active" data-gender="male">male</button>
                </div>
                <br><br>
                <div data-role="controlgroup" data-type="horizontal" data-mini="true">
                    <button type="submit" class="btn save-btn">
                        <span class="btn-icon">✓</span>
                        <span>Save</span>
                    </button>
                    <button type="button" class="btn cancel-btn" id="cancelBtn">
                        <span class="btn-icon">⊗</span>
                        <span>Cancel</span>
                    </button>
                </div>
            </form>
        </div>

        <div class="footer">
            <p>Contact List</p>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            // Gender button selection
            $('.gender-btn').on('click', function() {
                $('.gender-btn').removeClass('active');
                $(this).addClass('active');
            });

            // Validation functions
            function validateName() {
                var name = $('#name').val().trim();
                if (name === '') {
                    $('#nameError').text('Name is required');
                    return false;
                } else if (name.length < 2) {
                    $('#nameError').text('Name must be at least 2 characters');
                    return false;
                } else {
                    $('#nameError').text('');
                    return true;
                }
            }

            function validatePhone() {
                var phone = $('#phone').val().trim();
                var phoneRegex = /^[\d\s\-\(\)]+$/;
                if (phone === '') {
                    $('#phoneError').text('Phone is required');
                    return false;
                } else if (!phoneRegex.test(phone)) {
                    $('#phoneError').text('Please enter a valid phone number');
                    return false;
                } else if (phone.replace(/\D/g, '').length < 10) {
                    $('#phoneError').text('Phone must be at least 10 digits');
                    return false;
                } else {
                    $('#phoneError').text('');
                    return true;
                }
            }

            function validateEmail() {
                var email = $('#email').val().trim();
                var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (email === '') {
                    $('#emailError').text('Email is required');
                    return false;
                } else if (!emailRegex.test(email)) {
                    $('#emailError').text('Please enter a valid email address');
                    return false;
                } else {
                    $('#emailError').text('');
                    return true;
                }
            }

            // Real-time validation
            $('#name').on('blur', validateName);
            $('#phone').on('blur', validatePhone);
            $('#email').on('blur', validateEmail);

            // Form submission
            $('#contactForm').on('submit', function(e) {
                e.preventDefault();
                
                // Validate all fields
                var isNameValid = validateName();
                var isPhoneValid = validatePhone();
                var isEmailValid = validateEmail();

                if (isNameValid && isPhoneValid && isEmailValid) {
                    var contactData = {
                        name: $('#name').val(),
                        phone: $('#phone').val(),
                        email: $('#email').val(),
                        gender: $('.gender-btn.active').data('gender')
                    };
                    
                    console.log('Contact saved:', contactData);
                    alert('Contact saved successfully!');
                    
                    // Reset form
                    this.reset();
                    $('.gender-btn').removeClass('active');
                    $('.gender-btn[data-gender="male"]').addClass('active');
                    $('.error').text('');
                } else {
                    alert('Please fix the errors before submitting');
                }
            });

            // Cancel button
            $('#cancelBtn').on('click', function() {
                if (confirm('Are you sure you want to cancel?')) {
                    $('#contactForm')[0].reset();
                    $('.gender-btn').removeClass('active');
                    $('.gender-btn[data-gender="male"]').addClass('active');
                    $('.error').text('');
                }
            });

            // Back button
            $('#backBtn').on('click', function(e) {
                e.preventDefault();
                alert('Going back to contact list...');
            });
        });
    </script>
</body>
</html>